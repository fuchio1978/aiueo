# あいうえお：二文字ひらがなクイズ

静的な HTML/CSS/JavaScript で構成された学習用ミニアプリです。二文字のひらがな単語を出題し、正しいカードを選択するとイラストと読み上げで確認できます。

## 使い方
1. このリポジトリをクローンまたはダウンロードします。
2. `index.html` を対応ブラウザで直接開きます（ローカルファイルとして開けます）。
3. 画面上部に出題が表示されるので、中央のカードから正解を選択します。
4. 画面下部の「次のもんだい」ボタンで新しい問題を出題できます。
5. 「🔊よむ」ボタンで選択中のことばを読み上げます（対応ブラウザのみ）。

### 音声読み上げの確認
- ブラウザが Web Speech API (`speechSynthesis`) に対応していない場合、読み上げボタンは自動的に無効化され「音声は未対応です」という通知が表示されます。
- 強制的に音声機能を無効化して確認したい場合は、`index.html?nospeech=1` を開いてください。読み上げボタンが無効化され、通知が表示されれば仕様どおりです。

### フィードバックサウンド（正解・不正解の効果音）
- 正解・不正解の効果音は事前に録音した音声クリップを `assets/audio/correct.mp3` と `assets/audio/incorrect.mp3` から読み込みます。
- `file:` プロトコルで直接 `index.html` を開いた場合や、ブラウザが同ファイルへの `fetch` をブロックした場合は、従来どおり Web Audio API で生成したシンセサイザー音に自動でフォールバックします。
- 録音済みの効果音を確実に再生したい場合は、`index.html` を HTTP/HTTPS でホストしてください（GitHub Pages・Netlify・Vercel など）。

## テスト
1. `test.html` をブラウザで開きます。
2. DevTools の Console を確認します。
3. `All assertions passed.` と表示され、`Assertion failed` が出なければテスト成功です。

## デプロイ方法
このアプリはビルド工程のない静的サイトなので、静的ファイルを公開できる任意のホスティングサービスにそのまま配置できます。代表的なデプロイ方法を以下にまとめます。

### GitHub Pages を使う
1. GitHub にリポジトリを作成し、このプロジェクトのファイルを push します。
2. GitHub のリポジトリ設定画面で **Pages** を開き、`Source` を `Deploy from a branch` に設定します。
3. 公開したいブランチ（通常は `main` または `master`）とフォルダーに `/(root)` を選び、**Save** します。
4. 数十秒〜数分待つと公開用 URL（`https://<ユーザー名>.github.io/<リポジトリ名>/`）が発行されます。ブラウザでアクセスし、表示を確認してください。

### Netlify を使う
1. [Netlify](https://www.netlify.com/) にサインアップし、ダッシュボードを開きます。
2. **Add new site** → **Deploy manually** を選び、`index.html` や `assets/` を含むフォルダーをドラッグ＆ドロップします。
3. アップロードが完了すると一意の URL が割り当てられます。必要に応じてカスタムドメインを設定してください。

### Vercel を使う
1. [Vercel](https://vercel.com/) にサインアップし、**New Project** をクリックします。
2. GitHub/GitLab/Bitbucket のリポジトリをインポートするか、**Deploy** → **Import Git Repository** でこのプロジェクトを選択します。
3. `Framework Preset` は **Other** を選択し、`Output Directory` に `.`（ドット）を指定します。
4. **Deploy** を押すとデプロイが始まり、完了後に公開 URL が表示されます。

### 追加のヒント
- ファイルを手動でアップロードできる静的ホスティング（S3 + CloudFront、Firebase Hosting など）でも同様に公開できます。
- `index.html` がサイトのエントリーポイントなので、ホスティング側で `index.html` をデフォルトドキュメントに設定してください。
- HTTPS 対応やカスタムドメイン設定は、利用するホスティングサービスのガイドに従ってください。

## イラストを追加・更新するには
新しいことば用のカードイラストを追加する場合は、次の手順に従ってください。

1. `assets/` フォルダーにイラストを配置します。推奨形式は SVG (`*.svg`) です。PNG を使いたい場合は、`assets/<ファイル名>.png` を置いてから次の手順で許可リストに追加してください。
2. `main.js` の `WORD_IMAGE_MAP` に、ことばとファイル名（拡張子を除いたベース名）またはファイル名そのものを対応付けます。例: `ぶた: 'buta'` や `ぶた: 'special/buta.png'`。
3. PNG ファイルを使う場合は、`main.js` 内の `WORDS_WITH_PNG` にことば（例: `'ぶた'`）を追加します。これにより、ランタイムが SVG ではなく PNG を読み込むようになります。

既存のイラストを差し替えるときも、同じファイル名で置き換えるだけで反映されます。アクセシビリティ向上のため、SVG 内に `role="img"` や `aria-label` などのメタデータを含めることを推奨します。

## ライセンス
このプロジェクトは学習目的のサンプルです。必要に応じて自由に改変して利用してください。
